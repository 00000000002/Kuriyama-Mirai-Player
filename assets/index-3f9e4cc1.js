import{G as w,j as F,r as B,t as D,o as N,n as C,a as _,b as i,c as f,f as d,F as S,h as L,e as n,d as o,w as s,k as M,l as U,m as v,g as j,i as E,p as T}from"./index-0a2ff461.js";import{_ as g}from"./musicTable-7655eb94.js";import $ from"./index-b6d22c0d.js";import A from"./index-75c5589b.js";import"./formatTime-3cb25965.js";const G="/assets/B站-665d3d38.mp4";const R=d("div",{class:"content-wrapper-header",style:{"margin-top":"-10px"}},[d("video",{src:G,autoplay:"",loop:"",muted:"",style:{"border-radius":"14px",width:"100%"}})],-1),P={class:"m-lib"},q={class:"content-section"},Q={__name:"index",setup(z){const y=w(),h=F(()=>y.isLogin),l=B({activeName:"first",buttonList:[{title:"每日推荐",color:"#409EFF"},{title:"最新MV",color:"#FF98A5"},{title:"排行榜",color:"#626aef"},{title:"歌手",color:"#EBA5F0"}],currentPage:1,songTotal:0,tableData:[]}),{activeName:m,buttonList:k,tableData:p}=D(l),x=async r=>{switch(l.tableData=[],r.props.label){case"热门歌曲":b();break;case"每日推荐":const{data:a}=await U();l.tableData=a.data.dailySongs.map(t=>{const e=t.ar.map(u=>u.name).join(",");return{cover:t.al.picUrl,title:t.name,singer:e,album:t.al.name,time:t.dt,id:t.id,mv:t.mv}});break}};N(()=>{b()});const b=async()=>{const{data:r}=await C();l.tableData=r.result.map(a=>{const t=a.song.artists.map(e=>e.name).join(",");return{cover:a.picUrl,title:a.name,singer:t,album:a.song.album.name,time:a.song.duration,id:a.id,mv:a.song.mvid}})};return(r,a)=>{const t=_("el-button"),e=_("el-tab-pane"),u=_("el-tabs");return i(),f("div",null,[R,d("div",P,[(i(!0),f(S,null,L(n(k),(c,V)=>(i(),v(t,{key:V,color:c.color,round:"",class:"m-lib-btn"},{default:s(()=>[j(E(c.title),1)]),_:2},1032,["color"]))),128))]),d("div",q,[o(u,{modelValue:n(m),"onUpdate:modelValue":a[0]||(a[0]=c=>M(m)?m.value=c:null),class:"demo-tabs",onTabClick:x},{default:s(()=>[o(e,{label:"热门歌曲",name:"first"},{default:s(()=>[o(g,{data:n(p)},null,8,["data"])]),_:1}),o(e,{label:"歌单",name:"second"},{default:s(()=>[o(A)]),_:1}),o(e,{label:"MV",name:"third"},{default:s(()=>[o($)]),_:1}),n(h)?(i(),v(e,{key:0,label:"每日推荐",name:"four"},{default:s(()=>[o(g,{data:n(p)},null,8,["data"])]),_:1})):T("",!0)]),_:1},8,["modelValue"])])])}}};export{Q as default};
